(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{16:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(8),s=a.n(c),o=(a(7),a(2)),r=a.p+"static/media/aroundtheus.c7581985.svg",l=a(0);var u=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{className:"header__img",src:r,alt:"Around the U.S."})})},d=a(6),p=function(e){return Object(l.jsxs)("article",{className:"place",children:[Object(l.jsx)("button",{className:"place__trash",type:"button","aria-label":"trash-button",onClick:e.deleteClick}),Object(l.jsx)("img",{className:"place__image",src:e.link,alt:e.name,onClick:function(){e.onCardClick(e.card)}}),Object(l.jsxs)("div",{className:"place__info",children:[Object(l.jsx)("h2",{className:"place__name",children:e.name}),Object(l.jsxs)("div",{className:"place__info_like-column",children:[Object(l.jsx)("button",{className:"place__button place__button_type_unfilled",type:"button","aria-label":"like-button"}),Object(l.jsx)("p",{className:"place__like-count",children:e.likes})]})]})]})},b=a(9),_=a(10),j=new(function(){function e(t){var a=t.baseUrl,n=t.auth;Object(b.a)(this,e),this._url=a,this._auth=n}return Object(_.a)(e,[{key:"getProfile",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{headers:{authorization:this._auth}}).then((function(t){return e._checkResponse(t)}))}},{key:"getCardList",value:function(){var e=this;return fetch("".concat(this._url,"/cards"),{headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(t){return e._checkResponse(t)}))}},{key:"changeAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._checkResponse(e)}))}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",auth:"aa7e78f0-aba7-4938-a0ab-42cab952d914"});var x=function(e){var t=i.a.useState(),a=Object(o.a)(t,2),n=a[0],c=a[1],s=i.a.useState(),r=Object(o.a)(s,2),u=r[0],b=r[1],_=i.a.useState(),x=Object(o.a)(_,2),m=x[0],h=x[1],O=i.a.useState([]),f=Object(o.a)(O,2),v=f[0],k=f[1];return i.a.useEffect((function(){j.getProfile().then((function(e){c(e.name),b(e.about),h(e.avatar)})).catch((function(e){console.log(e)})),j.getCardList().then((function(e){k([].concat(Object(d.a)(v),Object(d.a)(e)))})).catch((function(e){console.log(e)}))}),[]),Object(l.jsxs)("main",{children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__image-container",onClick:e.onEditAvatarClick,children:[Object(l.jsx)("img",{className:"profile__pic",src:m,alt:"profile-image"}),Object(l.jsx)("img",{className:"profile__pic-edit",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaBAMAAABbZFH9AAAAIVBMVEUAAAD////////////////////////////////////////PIev5AAAACnRSTlMAIN+Av5BA73Bgx8dFNwAAAEZJREFUGNNjQABGRwYkILRIAElKa5UiktSqVUuQpUByCKlFAkNVihMsBQdWSFLMAsxIUkyKDI0IdVnImhiilhsg8VwTkDgAn/AnIS+N68cAAAAASUVORK5CYII=",alt:"edit-avatar-button"})]}),Object(l.jsxs)("div",{className:"profile__text",children:[Object(l.jsxs)("div",{className:"profile__top-row",children:[Object(l.jsx)("h1",{className:"profile__name",children:n}),Object(l.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"edit-profile",onClick:e.onEditProfileClick})]}),Object(l.jsx)("p",{className:"profile__descriptor",children:u})]}),Object(l.jsx)("button",{className:"profile__add-place-button",type:"button","aria-label":"add-place",onClick:e.onAddPlaceClick})]}),Object(l.jsx)("section",{className:"places",children:v.map((function(t){return Object(l.jsx)(p,{card:t,name:t.name,link:t.link,id:t._id,likes:t.likes.length,onCardClick:e.onCardClick,deleteClick:e.deleteClick},t._id)}))})]})};var m=function(e){return Object(l.jsx)("section",{className:"popup popup_".concat(e.name," ").concat(e.isOpen?"popup_visible":""),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{className:"popup__exit popup__exit_".concat(e.name),type:"button","aria-label":"exit",onClick:e.onClose}),Object(l.jsxs)("form",{className:"edit-box edit-box_type_".concat(e.name),name:e.name,children:[Object(l.jsx)("h3",{className:"edit-box__title",children:e.title}),e.children,Object(l.jsx)("button",{type:"submit",id:e.name,className:"edit-box__submit",name:"edit-box-submit","aria-label":"submit",value:"Save",children:e.buttonText})]})]})})};var h=function(e){return Object(l.jsxs)(m,{name:"edit-profile",title:"Edit Profile",buttonText:"Save",isOpen:e.isOpen,onClose:e.onClose,children:[Object(l.jsx)("input",{type:"text",value:"Francisco Coronado",id:"profile-name",className:"edit-box__text edit-box__text_type_name",name:"name",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_name",id:"profile-name-error"}),Object(l.jsx)("input",{type:"text",value:"Conquistador",id:"profile-descriptor",className:"edit-box__text edit-box__text_type_descriptor",name:"descriptor",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_descriptor",id:"profile-descriptor-error"})]})};var O=function(e){return Object(l.jsxs)(m,{name:"edit-avatar",title:"Change Profile Picture",buttonText:"Save",isOpen:e.isOpen,onClose:e.onClose,children:[Object(l.jsx)("input",{type:"url",placeholder:"Avatar link",id:"avatar-link",value:"",className:"edit-box__text edit-box__text_type_descriptor",name:"link",required:!0}),Object(l.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_url",id:"avatar-link-error"})]})};var f=function(e){return Object(l.jsxs)(m,{name:"add-place",title:"New Place",buttonText:"Create",isOpen:e.isOpen,onClose:e.onClose,children:[Object(l.jsx)("input",{type:"text",placeholder:"Title",id:"place-title",value:"",className:"edit-box__text edit-box__text_type_name",name:"name",minLength:"1",maxLength:"30",required:!0}),Object(l.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_place-title",id:"place-title-error"}),Object(l.jsx)("input",{type:"url",placeholder:"Image link",id:"image-link",value:"",className:"edit-box__text edit-box__text_type_descriptor",name:"link",required:!0}),Object(l.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_url",id:"image-link-error"})]})};var v=function(e){return Object(l.jsx)(m,{name:"card-delete",title:"Are you sure?",buttonText:"Yes",isOpen:e.isOpen,onClose:e.onClose})};var k=function(e){var t,a,n;return Object(l.jsx)("section",{className:"popup popup_image ".concat(e.card?"popup_visible":""),children:Object(l.jsxs)("div",{className:"popup-image-container",children:[Object(l.jsx)("button",{className:"popup__exit popup__exit_image",type:"button","aria-label":"exit",onClick:e.onClose}),Object(l.jsx)("img",{className:"popup-image-container__pic",src:null===(t=e.card)||void 0===t?void 0:t.link,alt:null===(a=e.card)||void 0===a?void 0:a.name}),Object(l.jsx)("p",{className:"popup-image-container__title",children:null===(n=e.card)||void 0===n?void 0:n.name})]})})};var C=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__text",children:"\xa9 2021 Around The U.S."})})};var A=function(){var e=i.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=i.a.useState(!1),s=Object(o.a)(c,2),r=s[0],d=s[1],p=i.a.useState(!1),b=Object(o.a)(p,2),_=b[0],j=b[1],m=i.a.useState(!1),A=Object(o.a)(m,2),N=A[0],g=A[1],y=i.a.useState(),S=Object(o.a)(y,2),I=S[0],P=S[1];function T(){j(!1),n(!1),d(!1),g(!1),P()}return Object(l.jsxs)("div",{children:[Object(l.jsx)(u,{}),Object(l.jsx)(x,{onEditAvatarClick:function(){n(!0)},onEditProfileClick:function(){d(!0)},onAddPlaceClick:function(){j(!0)},onCardClick:function(e){P(e)},deleteClick:function(){g(!0)}}),Object(l.jsx)(C,{}),Object(l.jsx)(h,{isOpen:r,onClose:T}),Object(l.jsx)(O,{isOpen:a,onClose:T}),Object(l.jsx)(f,{isOpen:_,onClose:T}),Object(l.jsx)(k,{card:I,onClose:T}),Object(l.jsx)(v,{isOpen:N,onClose:T})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(A,{})}),document.getElementById("root")),N()},7:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.215d5ca3.chunk.js.map